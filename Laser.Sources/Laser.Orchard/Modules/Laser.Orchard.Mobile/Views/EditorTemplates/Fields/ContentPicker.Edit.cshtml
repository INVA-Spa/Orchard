@model Orchard.ContentPicker.ViewModels.ContentPickerFieldViewModel
@using Orchard.ContentPicker.Settings;
@if ((bool)(TempData["HideRelated"] ?? false) && Model.Part.PartDefinition.Name=="MobilePushPart") {
    @Html.Raw("<div style='display:none'>")
}else{
       @Html.Raw("<div>")
}
    @{
    Script.Require("ContentPicker").AtFoot();
    Script.Require("jQueryUI_Sortable").AtFoot();
    Style.Include("content-picker-admin.css");

    var settings = Model.Field.PartFieldDefinition.Settings.GetModel<ContentPickerFieldSettings>();
    string name = T(Model.Field.DisplayName).Text;
    }
    @Display.ContentPicker_Edit(
    Required: settings.Required,
    Multiple: settings.Multiple,
    DisplayName: name,
    IdsFieldId: Html.FieldIdFor(m => m.Field.Ids),
    SelectedItemsFieldName: Html.FieldNameFor(m => m.SelectedIds),
    ContentItems: Model.ContentItems,
    Hint: settings.Hint,
    PartName: Model.Part.PartDefinition.Name,
    FieldName: Model.Field.PartFieldDefinition.Name
)
 @Html.Raw("</div>")