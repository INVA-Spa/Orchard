
@using Orchard.Localization.Services;

@model Laser.Orchard.SEO.Models.SeoPart
@{
    var emptySeo = String.IsNullOrWhiteSpace(Model.Keywords) && String.IsNullOrWhiteSpace(Model.Description) && String.IsNullOrWhiteSpace(Model.TitleOverride);
    Style.Require("FontAwesome430").AtHead();
    using (Script.Foot()) {
        <script type="text/javascript">
            $(function () {
                $('#seo-label a').click(function () {
                    if ($("#seo-data-container").is(":visible")) {
                        $("i", this).attr('class', 'fa fa-chevron-right');
                        $("#seo-data-container").hide(400);
                    }
                    else {
                        $("i", this).attr('class', 'fa fa-chevron-down');
                        $("#seo-data-container").show(400);
                    }
                    $('html, body').animate({
                        scrollTop: $($(this).attr('href')).offset().top
                    }, 500);
                    return false;
                });
            });
        </script>
    }
}
@using (Script.Foot()) {
    @Display.DatePickerLocalization()
    @Display.TimePickerLocalization()

    <script type="text/javascript">
        $(function () {
            $('#unavailableAfterDate').datetimepicker({ 'showTimepicker': true, showAnim: "", changeYear: true, changeMonth: true });
        })
    </script>
}
<fieldset class="editor">
    <legend id="seo-label"><a href="#seo-label"><i class="fa fa-chevron-right"></i></a> @T("SEO attributes")</legend>
    @if (emptySeo){
    <span class="hint">@T("SEO attributes are empty!")</span>
    }
    <div id="seo-data-container" style="display:none">
        <div class="editor-label">
            @Html.LabelFor(m => m.TitleOverride, @T("TitleOverride"))
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(m => m.TitleOverride, new { @class = "large text" })
            <span class="hint">@T("TitleOverrideDescription")</span>
            @Html.ValidationMessageFor(m => m.TitleOverride)
        </div>

        <div class="editor-label">
            @Html.LabelFor(m => m.Description, @T("Description"))
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(m => m.Description, new { @class = "large text" })
            @Html.ValidationMessageFor(m => m.Description)
        </div>

        <div class="editor-label">
            @Html.LabelFor(m => m.Keywords, @T("Keywords"))
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(m => m.Keywords, new { @class = "large text" })
            @Html.ValidationMessageFor(m => m.Keywords)
        </div>

        <div class="editor-label">
            @Html.LabelFor(m => m.RobotsNoIndex, @T("Robots settings"))
        </div>
        <div class="editor-field">
            @Html.CheckBoxFor(m => m.RobotsNoIndex)
            @Html.DisplayNameFor(m => m.RobotsNoIndex)

            @Html.CheckBoxFor(m => m.RobotsNoFollow)
            @Html.DisplayNameFor(m => m.RobotsNoFollow)

            @Html.CheckBoxFor(m => m.RobotsNoSnippet)
            @Html.DisplayNameFor(m => m.RobotsNoSnippet)

            @Html.CheckBoxFor(m => m.RobotsNoOdp)
            @Html.DisplayNameFor(m => m.RobotsNoOdp)

            @Html.CheckBoxFor(m => m.RobotsNoArchive)
            @Html.DisplayNameFor(m => m.RobotsNoArchive)

            @Html.CheckBoxFor(m => m.RobotsUnavailableAfter)
            @Html.DisplayNameFor(m => m.RobotsUnavailableAfter)

            @{
                IDateServices _dateServices;
                WorkContext.TryResolve<IDateServices>(out _dateServices);
                Model.RobotsUnavailableAfterDate = (DateTime)_dateServices.ConvertToLocal(Model.RobotsUnavailableAfterDate);
            }
            @Html.TextBoxFor(m => m.RobotsUnavailableAfterDate, new { id = "unavailableAfterDate" })

            @Html.CheckBoxFor(m => m.RobotsNoImageIndex)
            @Html.DisplayNameFor(m => m.RobotsNoImageIndex)

        </div>

        <div class="editor-label">
            @Html.LabelFor(m => m.RobotsNoIndex, @T("Google settings"))
        </div>
        <div class="editor-field">
            @Html.CheckBoxFor(m => m.GoogleNoSiteLinkSearchBox)
            @Html.DisplayNameFor(m => m.GoogleNoSiteLinkSearchBox)

            @Html.CheckBoxFor(m => m.GoogleNoTranslate)
            @Html.DisplayNameFor(m => m.GoogleNoTranslate)
        </div>
    </div>
</fieldset>
