@using Laser.Orchard.TaskScheduler.ViewModels;
@using Laser.Orchard.TaskScheduler;
@using Laser.Orchard.Commons.Helpers;

@model Laser.Orchard.TaskScheduler.ViewModels.IndexViewModel

@{
    Script.Require("jQUery_NestedModels").AtHead();
}
@using (Html.BeginFormAntiForgeryPost()) {
    <fieldset>

        <legend>@T("Existing scheduled tasks")</legend>


        <div id="allScheduledTasks">
            @Html.EditorFor(m => m.allTasks)
        </div>
        <div id="addButton">
            @Html.LinkToAddNestedForm(m => m.allTasks, "<i class=\"fa fa-plus\" style=\"color: green\"></i> " + T(" Add new tasks").Text, "#allScheduledTasks", ".j_scheduledtasks")
        </div>

        <button id="saveSchedulers" type="submit" name="submit.SaveSchedulers" value="yes please">@T("Save")</button>
        @*@Html.ActionLink(T("Save schedulers").ToString(), "IndexSaveSchedulers", "Admin", new { }, new { @class = "button" })*@
    </fieldset>
}


@using (Script.Foot()) {
    @Display.DatePickerLocalization()
    @Display.TimePickerLocalization()

    
    <script type="text/javascript">
        function FlagForSchedulingEvent(aid) {
            var id = "schedule_" + aid.toString();
            document.getElementById(id).value = "True";
        }
    </script>
}