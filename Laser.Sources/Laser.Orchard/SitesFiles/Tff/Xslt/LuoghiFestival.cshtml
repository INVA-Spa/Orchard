@{
	XmlDocument mydoc=ToXmlDocument(Model);
	foreach(XmlNode bookToModify in mydoc.SelectNodes(".//url_resource")){
		bookToModify.InnerXml="http://www.torinofilmfest.org/public/uploaded/"+bookToModify.InnerXml;
	}

	mydoc=aggiungipadre(mydoc,"root","_dataList","_data");
	mydoc=aggiungifiglio(mydoc,"root/_dataList/_data","MapPart");
	mydoc=aggiungifiglio(mydoc,"root/_dataList/_data/MapPart","Latitude");
	mydoc=aggiungifiglio(mydoc,"root/_dataList/_data/MapPart","Longitude");
	mydoc=aggiungifiglio(mydoc,"root/_dataList/_data/MapPart","Locationinfo");
	mydoc=aggiungifiglio(mydoc,"root/_dataList/_data/MapPart","Locationadress");

	foreach(XmlNode bookToModify in mydoc.SelectNodes("/root/_dataList/_data/id")){
			int n;
            double latitude=0, longitude=0;
            bool isNumeric = int.TryParse(bookToModify.ChildNodes[0].Value, out n);
            if (n==457){
                latitude =45.066130;
                longitude = 7.694633;
            } else if (n == 389) {
                latitude =45.068989;
                longitude = 7.682749;
            } else if (n == 388) {
                latitude =45.068325;
                longitude = 7.692453;
            } else if (n == 390) {
                latitude =45.065501;
                longitude = 7.678876;
            } else if (n == 485) {
                latitude =45.032946;
                longitude = 7.665949;

            }
			XmlNode nodomappa=bookToModify.ParentNode.SelectSingleNode("MapPart");
			nodomappa.SelectSingleNode("Latitude").InnerText=String.Concat(":lasernumeric",latitude.ToString(System.Globalization.CultureInfo.InvariantCulture),"lasernumeric:");
            nodomappa.SelectSingleNode("Longitude").InnerText = String.Concat(":lasernumeric", longitude.ToString(System.Globalization.CultureInfo.InvariantCulture), "lasernumeric:");
			nodomappa.SelectSingleNode("Locationinfo").InnerText="ciao";
			nodomappa.SelectSingleNode("Locationadress").InnerText="ciao";
	}
	mydoc=textreplace(mydoc,"root/_dataList/_data/abstract","\u2028","");
	mydoc=cambianome(mydoc,"root/_dataList/_data/abstract","AbstractText");
	mydoc=textreplace(mydoc,"root/_dataList/_data/body","\u2028","");
	mydoc=generaOriginalId(mydoc,"root/_dataList/_data/media/image/ID_media");
	mydoc=generaid(mydoc,"root/_dataList/_data/media/image/ID_media",10000000);
	mydoc=rendinumeric(mydoc,"root/_dataList/_data/media/image/ID_article");
	mydoc=generaOriginalId(mydoc,"root/_dataList/_data/media/video/ID_video");
	mydoc=generaid(mydoc,"root/_dataList/_data/media/video/ID_video",20000000);
	mydoc=generaOriginalId(mydoc,"root/_dataList/_data/media/allegati/id");
	mydoc=generaid(mydoc,"root/_dataList/_data/media/allegati/id",30000000);
	
	mydoc=rendinumeric(mydoc,"root/_dataList/_data/parentID");
	mydoc=rendinumeric(mydoc,"root/_dataList/_data/ordine");
	mydoc=generaOriginalId(mydoc,"root/_dataList/_data/id");
	mydoc=generaid(mydoc,"root/_dataList/_data/id",5000000);
	mydoc=cambianome(mydoc,"root/_dataList/_data/abstract","AbstractText");
	mydoc=aggiungipadre(mydoc,"root/_dataList/_data/media","ImageList","image");
	mydoc=aggiungifiglio(mydoc,"root/_dataList/_data/media/ImageList","image");
	mydoc=RimuoviFratelli(mydoc,"root/_dataList");
	mydoc=aggiungifiglio(mydoc,"root/_dataList","_data"); // rende vettore
	mydoc=aggiungifiglio(mydoc,"root/_dataList/_data/media/ImageList","image");// rende vettore
	mydoc=aggiungifiglio(mydoc,"root/_dataList/_data/media/VideoList","video");// rende vettore
	mydoc=aggiungifiglio(mydoc,"root/_dataList/_data/media/AllegatiList","allegati");// rende vettore
	mydoc=cambianome(mydoc,"root/_dataList/_data/media/AllegatiList/allegati","Allegati");
	mydoc=cambianome(mydoc,"root/_dataList/_data/media/ImageList/image","Dataimage");
	mydoc=RimuoviNodo(mydoc,"root/_dataList/_data/media");
	mydoc=cambianome(mydoc,"root/_dataList/_data","Dataluoghi");
	mydoc=CreaContatore(mydoc,"root/_dataList/Data","OrdinamentoLaser");
	mydoc=cambianome(mydoc,"root/_dataList","ToRemove");
	SpanXDocument(ToXDocument(mydoc).Root);
}