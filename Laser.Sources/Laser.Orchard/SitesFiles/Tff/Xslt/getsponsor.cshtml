@{
	XmlDocument mydoc=ToXmlDocument(Model);
	foreach(XmlNode bookToModify in mydoc.SelectNodes(".//image/url_resource")){
		bookToModify.InnerXml="http://www.torinofilmfest.org/public/uploaded/"+bookToModify.InnerXml;
	}
		foreach(XmlNode bookToModify in mydoc.SelectNodes(".//allegati/url_resource")){
		bookToModify.InnerXml="http://www.torinofilmfest.org/public/uploaded/"+bookToModify.InnerXml;
	}
	mydoc=aggiungipadre(mydoc,"root","_dataList","_data");

	mydoc=RimuoviFratelli(mydoc,"root/_dataList");
	mydoc=rendinumeric(mydoc,"root/_dataList/_data/parentID");
	mydoc=generaOriginalId(mydoc,"root/_dataList/_data/id");
	mydoc=generaid(mydoc,"root/_dataList/_data/id",2000000);
	mydoc=rendinumeric(mydoc,"root/_dataList/_data/priority");
	mydoc=generaOriginalId(mydoc,"root/_dataList/_data/media/image/ID_media");
	mydoc=generaid(mydoc,"root/_dataList/_data/media/image/ID_media",10000000);
	mydoc=rendinumeric(mydoc,"root/_dataList/_data/media/image/ID_article");
	mydoc=aggiungipadre(mydoc,"root/_dataList/_data/media","ImageList","image");
	
	mydoc=generaOriginalId(mydoc,"root/_dataList/_data/media/video/ID_video");
	mydoc=generaid(mydoc,"root/_dataList/_data/media/video/ID_video",20000000);
	mydoc=rendinumeric(mydoc,"root/_dataList/_data/media/video/ID_article");
	mydoc=aggiungipadre(mydoc,"root/_dataList/_data/media","VideoList","video");
	
	mydoc=CreaContatore(mydoc,"root/_dataList/_data","OrdinamentoLaser");
	mydoc=aggiungifiglio(mydoc,"root/_dataList","_data"); // rende vettore
	mydoc=aggiungifiglio(mydoc,"root/_dataList/_data/media/ImageList","image");// rende vettore
	mydoc=aggiungifiglio(mydoc,"root/_dataList/_data/media/VideoList","video");// rende vettore
	mydoc=cambianome(mydoc,"root/_dataList/_data/media/ImageList/image","Dataimage");
	mydoc=RimuoviNodo(mydoc,"root/_dataList/_data/media");
	mydoc=cambianome(mydoc,"root/_dataList/_data","DataSponsor");
	mydoc=cambianome(mydoc,"root/_dataList","ToRemove");

	SpanXDocument(ToXDocument(mydoc).Root);
}
