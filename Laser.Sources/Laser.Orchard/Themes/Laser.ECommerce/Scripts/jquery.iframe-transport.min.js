(function(n){"use strict";n.ajaxPrefilter(function(n){if(n.iframe)return n.originalURL=n.url,"iframe"});n.ajaxTransport("iframe",function(t,i){function s(){f.each(function(t,i){var r=n(i);r.data("clone").replaceWith(r)});u.remove();r.one("load",function(){r.remove()});r.attr("src","javascript:false;")}var u=null,r=null,e="iframe-"+n.now(),f=n(t.files).filter(":file:enabled"),h=null,o=null;return t.dataTypes.shift(),t.data=i.data,f.length?(u=n("<form enctype='multipart/form-data' method='post'><\/form>").hide().attr({action:t.originalURL,target:e}),typeof t.data=="string"&&t.data.length>0&&n.error("data must not be serialized"),n.each(t.data||{},function(t,i){n.isPlainObject(i)&&(t=i.name,i=i.value);n("<input type='hidden' />").attr({name:t,value:i}).appendTo(u)}),n("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(u),o=t.dataTypes[0]&&t.accepts[t.dataTypes[0]]?t.accepts[t.dataTypes[0]]+(t.dataTypes[0]!=="*"?", */*; q=0.01":""):t.accepts["*"],n("<input type='hidden' name='X-HTTP-Accept'>").attr("value",o).appendTo(u),h=f.after(function(){var t=n(this),i=t.clone().prop("disabled",!0);return t.data("clone",i),i}).next(),f.appendTo(u),{send:function(t,i){r=n("<iframe src='javascript:false;' name='"+e+"' id='"+e+"' style='display:none'><\/iframe>");r.one("load",function(){r.one("load",function(){var r=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,t=r.documentElement?r.documentElement:r.body,n=t.getElementsByTagName("textarea")[0],u=n&&n.getAttribute("data-type")||null,f=n&&n.getAttribute("data-status")||200,e=n&&n.getAttribute("data-statusText")||"OK",o={html:t.innerHTML,text:u?n.value:t?t.textContent||t.innerText:null};s();i(f,e,o,u?"Content-Type: "+u:null)});u[0].submit()});n("body").append(u,r)},abort:function(){r!==null&&(r.unbind("load").attr("src","javascript:false;"),s())}}):void 0})})(jQuery);